<turbo-frame id="container">
    <div class="score-container">
        <div class="cards-container">
            <div class="score-gauge-container">
                <h2>Score</h2>
                <div class="score-gauge">
                    <div class="score-gauge-number">{{.Score}}</div>
                </div>
            </div>
            <div class="explanation-card">
                <h3>Explanation</h3>
                <p>{{.Explanation}}</p>
            </div>
            <div class="phrases-list">
                {{ range .Defences }}
                    {{ if eq .Score 1 }}
                        <div class="defence-is-not-present">
                        {{ else if eq .Score 2 }}
                        <div class="defence-is-half-point">
                        {{ else if eq .Score 3 }}
                        <div class="defence-is-present">
                    {{ end }}
                            <div class="score-card-title">{{ .Name }}</div>
                            <div class="score-card-subtitle">{{ .Description }}</div>
                        </div>
                {{ end }}
                    <div class="action-card">
                        <form action="/improve" method="post">
                            <input type="hidden" name="prompt" value="{{ .Prompt }}"/>
                            <p  class="score-card-title" style="color: white">Automatically improve prompt</p>
                            <button type="submit" class="btn btn-secondary">Improve now</button>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <script>
        var score = {{ .Score }};
        var scoreGauge = document.querySelector('.score-gauge');
        var scoreNumber = document.querySelector('.score-gauge-number');


        scoreGauge.style.background = getGaugeColor(score * 10);
        scoreNumber.textContent = score;
    </script>
</turbo-frame>
